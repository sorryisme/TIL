# 애노테이션 프로세서

- 롬복을 어떻게 동작할까 : 자바를 조작하는 다양한 방법 강의 내용



## Lombok

- 애노테이션 프로세서를 제공하여 Getter, Setter, Builder 기능을 제공
  - 컴파일 할 때 애노테이션이 붙어 있는 소스코드를 조작할 수 있음
    - 원래는 수정이 불가(공개된 API에서는 참조만 가능)
    - 하위 타입으로 타입캐스팅을 하여 처리
- 동작원리
  - 컴파일 시점에서 애노테이션 프로세서를 사용하여 소스코드의 AST(abstract syntax tree)를 조작한다 
  - 참고 : https://javaparser.org/inspecting-an-ast/
- 논란
  - 공개된 API가 아닌 컴파일러 내부 클래스를 사용하여 소스코드를 조작( 개발자 또한 핵이라고 언급 )
  - 이클립스의 경우 java agent를 상사용, 버전호환성의 문제가 발생가능성이 높다
  - 대안
    - AutoValue
    - Immutables 
  - 하지만 대안들은 롬복의 기능과 편의성을 대체하지 못한다
- 

